import{p as e}from"./index-3aa40261.js";import"./vendor-react-core-24666f97.js";import"./vendor-aa89dd43.js";import"./vendor-animations-5318fd63.js";import"./polyfills-04934d90.js";import"./vendor-3d-61107973.js";import"./vendor-ui-8c022d9f.js";import"./vendor-react-libs-92d47a48.js";import"./vendor-utils-cc5cefda.js";import"./vendor-socket-c5f83ed8.js";class t{constructor(){}static getInstance(){return t.instance||(t.instance=new t),t.instance}storeQuestionnaireData(e){try{const t={...e,accountEquity:this.preserveExactValue(e.accountEquity),accountSize:this.preserveExactValue(e.accountSize),riskPercentage:this.preserveExactValue(e.riskPercentage)};localStorage.setItem("questionnaireAnswers",JSON.stringify(t)),sessionStorage.setItem("currentQuestionnaire",JSON.stringify(t))}catch(t){}}getQuestionnaireData(){try{const e=sessionStorage.getItem("currentQuestionnaire");if(e)return JSON.parse(e);const t=localStorage.getItem("questionnaireAnswers");return t?JSON.parse(t):null}catch(e){return null}}preserveExactValue(e){return"number"==typeof e?e.toString():e}getPropFirmRules(t,r){try{const a=e.find(e=>e.name===t);if(!a)return null;const n=a.models.find(e=>e.name===r);return n?{provider:a.name,model:n.name,maxDailyLoss:n.maxDailyLoss,maxDrawdown:n.maxDrawdown,profitTarget:n.profitTarget,tradingDays:n.tradingDays,maxPositions:n.maxPositions,leverage:n.leverage,restrictions:n.restrictions||[]}:null}catch(a){return null}}validateQuestionnaireData(e){const t=[],r=[];if(e.propFirm||t.push("Prop firm selection is required"),e.accountType||t.push("Account type selection is required"),e.accountSize||t.push("Account size is required"),e.riskPercentage||t.push("Risk percentage is required"),e.accountSize){const r=parseFloat(e.accountSize.toString());(isNaN(r)||r<=0)&&t.push("Account size must be a positive number")}if(e.riskPercentage){const r=parseFloat(e.riskPercentage.toString());(isNaN(r)||r<=0||r>10)&&t.push("Risk percentage must be between 0.1% and 10%")}return e.riskPercentage&&parseFloat(e.riskPercentage.toString())>5&&r.push("High risk percentage detected. Consider reducing to 1-2% for better risk management."),"5+"===e.tradesPerDay&&parseFloat(e.riskPercentage.toString())>2&&r.push("High risk with many trades per day may lead to rapid account depletion."),{isValid:0===t.length,errors:t,warnings:r}}getAccountSummary(e){const t=this.preserveExactValue(e.accountSize),r=parseFloat(e.riskPercentage.toString()),a=(parseFloat(t)*(r/100)).toFixed(2);return{accountSize:t,riskAmount:a,maxDailyRisk:(3*parseFloat(a)).toFixed(2),propFirmRules:this.getPropFirmRules(e.propFirm,e.accountType)}}exportQuestionnaireData(){try{const e=this.getQuestionnaireData();if(!e)return"No questionnaire data available";const t=this.getAccountSummary(e),r=this.validateQuestionnaireData(e);return JSON.stringify({questionnaireData:e,accountSummary:t,validation:r,exportTimestamp:(new Date).toISOString()},null,2)}catch(e){return"Error exporting data"}}clearQuestionnaireData(){try{localStorage.removeItem("questionnaireAnswers"),sessionStorage.removeItem("currentQuestionnaire")}catch(e){}}}const r=t.getInstance();export{r as default};
